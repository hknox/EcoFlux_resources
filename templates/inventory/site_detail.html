{% extends "inventory/layout_base.html" %}

<head>
  {% load django_bootstrap5 %}
  {% load crispy_forms_tags %}

  {% block extra_css %}
  <style>
    .form-floating.custom-height textarea,
    .custom-height .form-control {
        height: 120px !important;
    }
  </style>
  {% endblock %}

  {% block title %}EcoFlux - Site{% endblock %}
</head>

    {% block content %}
    <h2>{{action}} Site</h2>

    <!-- What does the 'novalidate' do? without it, the saved-date
    check fails to run -->
      <form method="post" enctype="multipart/form-data"
            class="track-unsaved" novalidate>
        {% csrf_token %}
        {% crispy form %}

        <h5 class="mt-2">DOI Links</h5>
        {% crispy doi_formset doi_formset.helper %}

      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-check-circle"></i> Save
        </button>
        <a href="{{ cancel_url }}" class="btn btn-secondary btn-cancel">
          <i class="bi bi-x-circle"></i> Cancel
        </a>
      </form>
        {% comment %}
        {% if delete_url %}
        <form method="post" action="{{ delete_url }}" onsubmit="return confirmDelete();" class="d-inline">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger">
            <i class="bi bi-trash"></i> Delete
          </button>
        </form>
        {% endif %}
        {% endcomment %}
      </div>


      <!-- </form> -->

{% endblock content %}

{% block extra_js %}
{% include "inventory/include/flatpickr.html" %}
{% endblock extra_js %}
